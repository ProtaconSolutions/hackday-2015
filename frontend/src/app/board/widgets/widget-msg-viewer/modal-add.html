<form class="form-horizontal" role="form" name="forms.messageForm" novalidate="novalidate">
    <div class="form-group">
        <label for="type" class="col-xs-3 control-label">Type</label>
        <div class="col-xs-9">
            <select id="type" class="form-control"
                data-ng-options="messageType.value as messageType.name for messageType in messageTypes"
                data-ng-model="newMessage.type"
            ></select>
        </div>
    </div>

    <div class="form-group"
        data-show-errors
    >
        <label for="sender" class="col-xs-3 control-label">Sender</label>
        <div class="col-xs-9">
            <input id="sender" name="sender" class="form-control" placeholder="enter sender in" type="text" required="required"
                data-ng-model="newMessage.sender"
            />
        </div>
    </div>

    <div class="form-group"
        data-ng-if="newMessage.type == 'msg'"
        data-show-errors
    >
        <label for="message" class="col-xs-3 control-label">Message</label>

        <div class="col-xs-9">
            <textarea id="message" name="message" class="form-control" required="required"
                data-ng-model="newMessage.data"
            ></textarea>
        </div>
    </div>

    <span data-ng-if="newMessage.type == 'img'">
        <div class="form-group">
            <label class="col-xs-3 control-label">Select image</label>

            <div class="col-xs-9">
                <div class="drop-box"
                    data-ngf-select=""
                    data-ngf-drop=""
                    data-ng-model="newMessage.files"
                    data-ng-model-rejected="rejFiles"
                    data-ng-class="{'dragover-err': noFilesSelected}"
                    data-ngf-multiple="false"
                    data-ngf-accept="accept"
                    accept="image/*"
                    data-ngf-disabled="disabled"
                    data-ngf-capture="capture"
                    data-ngf-drag-over-class="{accept: 'dragover', reject: 'dragover-err', delay:100}"
                    data-ngf-allow-dir="false"
                    ngf-drop-available="dropAvailable"
                >
                    Select image file by click

                    <span data-ng-show="dropAvailable">
                        <br />
                        or just drop image file here
                    </span>
                </div>
            </div>
        </div>

        <div class="form-group">
            <div class="col-xs-9 col-xs-offset-3 text-center">
                <img style="max-width: 300px"
                    data-ng-show="newMessage.files[0].type.indexOf('image') > -1"
                    data-ngf-src="newMessage.files[0]"
                    data-ngf-accept="'image/*'"
                />
            </div>
        </div>
    </span>

    <div class="form-group"
        data-ng-if="newMessage.type == 'url'"
        data-show-errors
    >
        <label for="url" class="col-xs-3 control-label">URL address</label>

        <div class="col-xs-9">
            <input id="url" class="form-control" placeholder="enter URL" type="url" required="required"
                data-ng-model="newMessage.data"
            />
        </div>
    </div>

    <div class="form-group">
        <div class="col-xs-9 col-xs-offset-3">
            <button class="btn btn-primary"
                data-ng-click="submit()"
            >
                Submit new message
            </button>
        </div>
    </div>
</form>